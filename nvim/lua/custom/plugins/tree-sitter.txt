local plugins = {
	{
		"nvim-treesitter/nvim-treesitter",
		"nvim-treesitter/nvim-treesitter-textobjects",

		version = false, -- last release is way too old and doesn't work on Windows
		build = ":TSUpdate",
	},
}

-- Function to link Tree-sitter groups to standard highlight groups
local function link_highlights()
	vim.api.nvim_set_hl(0, "TSType", { link = "Type", default = true })
	vim.api.nvim_set_hl(0, "TSFunction", { link = "Function", default = true })
	vim.api.nvim_set_hl(0, "TSVariable", { link = "Identifier", default = true })
end

-- Set up an auto command to link highlights when the color scheme changes
vim.api.nvim_create_autocmd("ColorScheme", {
	pattern = "*",
	callback = link_highlights,
})

return plugins
